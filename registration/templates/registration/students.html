{% extends 'base.html' %}
{% load static %}

{% block dashboard %}

<div class="container p-4 bg-warning-subtle">
  {% if class_students %}
  <div class="row shuffle bg-warning-subtle" data-masonry='{"percentPosition": true }' id="batches">
    {% for cls in class_students %}
    <div class="col-sm-6 col-md-4 col-lg-3 category shuffle-item shuffle-item--visible mb-4">
      <div class="card">
        <ul class="list-group">
          <li class="list-group-item bg-dark text-white list-group border-dark"> {{cls.class}} -  ( {{cls.students.count}} )</li>
          {% for student in cls.students %}
          <li class="list-group-item d-flex justify-content-between align-items-center">
            <a class="text-decoration-none text-dark" target="_blank" href="{% url 'student_update' student.stu_id %}">
              <span class="">{{forloop.counter}}. {{student.user.first_name}} {{student.user.last_name}}</span>
            </a>
          </li>
          {% endfor %}
        </ul>
      </div>
    </div>
    {% endfor %}
  </div>
  {% endif %}
</div>
<script>
//   document.addEventListener("DOMContentLoaded", function () {
//     const deleteLinks = document.querySelectorAll(".delete-link");
//     const modal = document.getElementById("deleteConfirmationModal");
//     const confirmButton = document.getElementById("confirmDeleteButton");
//     const cancelButton = document.getElementById("cancelButton");

//     let deleteUrl = "";

//     deleteLinks.forEach(link => {
//       link.addEventListener("click", function (event) {
//         event.preventDefault();
//         document.getElementsByTagName('html')[0].style.overflow = 'hidden';
//         document.getElementsByTagName('body')[0].style.overflow = 'hidden';
//         deleteUrl = `/student-delete/${this.dataset.user_id}`;

//         const scrollPosition = window.scrollY || document.documentElement.scrollTop;
//         modal.style.top = `${scrollPosition}px`;
//         modal.classList.remove('d-none');
//       });
//     });

//     confirmButton.addEventListener("click", function () {
//       if (deleteUrl) {
//         window.location.href = deleteUrl; // Redirect to the delete URL
//       }
//     });

//     cancelButton.addEventListener("click", function () {
//       modal.classList.add("d-none");
//       document.getElementsByTagName('html')[0].style.overflow = 'auto';
//       document.getElementsByTagName('body')[0].style.overflow = 'auto';
//     });
//   });
</script>


<script src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js"
  integrity="sha384-GNFwBvfVxBkLMJpYMOABq3c+d3KnQxudP/mGPkzpZSTYykLBNsZEnG2D9G/X/+7D" crossorigin="anonymous"
  async>
</script>

{% endblock dashboard %}